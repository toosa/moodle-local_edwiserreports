"use strict";define(["jquery","core/chartjs","local_edwiserreports/defaultconfig","./common"],function(t,a,o,i){return{init:function(e){var c,d=o.getPanel("#todaysactivityblock"),y=o.getPanel("#todaysactivityblock","body"),r=d+" #flatpickrCalender-todaysactivity";function l(d){i.loader.show("#todaysactivityblock"),t.ajax({url:o.requestUrl,type:o.requestType,dataType:o.requestDataType,data:{action:"get_todaysactivity_data_ajax",secret:M.local_edwiserreports.secret,data:JSON.stringify({date:d})}}).done(function(i){var d;!0!==i.error||"invalidsecretkey"!==i.exception.errorcode?(t.each(i.data,function(a,o){t(y+" #todays-"+a).find(".data").html(o)}),d=i.data.visitshour,o.todaysActivityBlock.graph.data=d,d={labels:o.todaysActivityBlock.graph.labels,datasets:[{label:o.todaysActivityBlock.graph.labelName,data:o.todaysActivityBlock.graph.data,backgroundColor:o.todaysActivityBlock.graph.backgroundColor}]},c&&c.destroy(),c=new a(o.todaysActivityBlock.ctx,{type:o.todaysActivityBlock.graph.type,options:o.todaysActivityBlock.graph.options,data:d})):e("todaysactivityblock",i)}).fail(function(t){}).always(function(){i.loader.hide("#todaysactivityblock")})}t(document).ready(function(){o.todaysActivityBlock=o.getTodaysActivityBlock(),o.todaysActivityBlock&&(l(),t(r).flatpickr({dateFormat:"d M Y",maxDate:"today",defaultDate:["today"],onChange:function(t,a,o){l(a)}}))})}}});
//# sourceMappingURL=block_todaysactivity.min.js.map
